{% extends "base.html" %}

{% load static %}

{% block page_title %}
InvenTree | Search Results
{% endblock %}

{% block content %}

<h3>Search Results</h3>

<div>
{% include "search_form.html" with query_text=query %}
</div>

<br><br>
<h3>Parts <span id='part-result-count'></span></h3>
<table class='table table-striped table-condensed' data-toolbar="#button-toolbar" id='part-results-table'>
</table>

{% endblock %}

{% block js_load %}
{{ block.super }}
<script type='text/javascript' src="{% static 'script/inventree/part.js' %}"></script>
{% endblock %}

{% block js_ready %}
{{ block.super }}

    $("#part-results-table").on('load-success.bs.table', function() {
        var n = $("#part-results-table").bootstrapTable('getData').length;
        $("#part-result-count").html("(found " + n + " results)");
    });

    loadPartTable("#part-results-table",
        "{% url 'api-part-list' %}",
        {
            query: {
                search: "{{ query }}",
            },
            allowInactive: true,
        }
    );
    
{% endblock %}