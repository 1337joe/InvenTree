{% extends "panel.html" %}
{% load i18n %}
{% load inventree_extras %}
{% load plugin_extras %}

{% block label %}plugin{% endblock %}


{% block heading %}
{% trans "Plugin Settings" %}
{% endblock %}

{% block content %}

<h4>{% trans "Plugin list" %}</h4>

<table class='table table-striped table-condensed'>
    <thead>
        <tr>
            <th>{% trans "Name" %}</th>
            <th>{% trans "Author" %}</th>
            <th>{% trans "Date" %}</th>
        </tr>
    </thead>
    
    <tbody>
        {% plugin_list as pl_list %}
        {% for plugin_key, plugin in pl_list.items %}
        {% mixin_enabled plugin 'urls' as urls %}
        {% mixin_enabled plugin 'settings' as settings %}

        <tr>
            <td>{{plugin_key}} - {{ plugin.human_name }}
                {% if urls %}
                    <span class='badge'><a class='nav-toggle text-success' id='select-plugin-{{plugin_key}}'>{% trans 'Has urls' %}</a></span>
                {% endif %}
                {% if settings %}
                    <span class='badge'><a class='nav-toggle text-success' id='select-plugin-{{plugin_key}}'>{% trans 'Has settings' %}</a></span>
                {% endif %}

                {% define plugin.registered_mixins as mixin_list %}
                {% if mixin_list %}
                {% for mixin in mixin_list %}
                    <span class='badge'><a class='nav-toggle text-success' id='select-plugin-{{plugin_key}}'>
                        {% blocktrans with name=mixin.human_name %}has {{name}}{% endblocktrans %}</a></span>
                {% endfor %}
                {% endif %}
            </td>
            <td>{{ plugin.author }}</td>
            <td>{{plugin.commit.date}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
