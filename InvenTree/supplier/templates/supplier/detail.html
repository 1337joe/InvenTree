{% extends "base.html" %}

{% block content %}

<div class="row">
    <div class="col-sm-6">
        <h3>{{ supplier.name }}</h3>
        <p>{{ supplier.description }}</p>
        <a href="{% url 'supplier-edit' supplier.id %}">
            <button class="btn btn-info">Edit supplier details</button>
        </a>
        <a href="{% url 'supplier-delete' supplier.id %}">
            <button class="btn btn-danger">Delete supplier</button>
        </a>
    </div>
    <div class="col-sm-6">
        <table class="table">
        {% if supplier.website %}
        <tr>
            <td>Website</td><td><a href="{{ supplier.website }}">{{ supplier.website }}</a></td>
        </tr>
        {% endif %}
        {% if supplier.address %}
        <tr>
            <td>Address</td><td>{{ supplier.address }}</td>
        </tr>
        {% endif %}
        {% if supplier.phone %}
        <tr>
            <td>Phone</td><td>{{ supplier.phone }}</td>
        </tr>
        {% endif %}
        {% if supplier.email %}
        <tr>
            <td>Email</td><td>{{ supplier.email }}</td>
        </tr>
        {% endif %}
        {% if supplier.contact %}
        <tr>
            <td>Contact</td><td>{{ supplier.contact }}</td>
        </tr>
        {% endif %}
        </table>
    </div>
</div>

<h4>Supplier Parts</h3>
<table class="table table-striped">
<tr>
    <th>SKU</th>
    <th>Part</th>
    <th>Manufacturer</th>
    <th>MPN</th>
    <th>URL</th>
</tr>
{% for part in supplier.parts.all %}
<tr>
    <td><a href="{% url 'supplier-part-detail' part.id %}">{{ part.SKU }}</a></td>
    <td>
        {% if part.part %}
        <a href="{% url 'part-detail' part.part.id %}">{{ part.part.name }}</a>
        {% endif %}
    </td>
    <td>Manufacturer name goes here</td>
    <td>MPN goes here</td>
    <td>{{ part.URL }}</td>
{% endfor %}
</table>

<div class='container-fluid'>
<a href="{% url 'supplier-part-create' %}?supplier={{ supplier.id }}">
    <button class="btn btn-success">New Supplier Part</button>
</a>
</div>

{% endblock %}